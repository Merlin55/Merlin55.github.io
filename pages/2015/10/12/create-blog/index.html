<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Clothes Matching Challenge on Taobao.com - Pengyang Wang's Homepage</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/pages/2015/10/12/create-blog/">

        <meta name="author" content="Pengyang Wang" />
        <meta name="keywords" content="Bigdata,Challenge,Data Mining,Analytics" />
        <meta name="description" content="Shiting Xv, Guodong Zhang and I participated in the competition as a team and I was the leader of the team. My work mainly included data cleaning, data transform and ..." />

        <meta property="og:site_name" content="Pengyang Wang's Homepage" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Clothes Matching Challenge on Taobao.com"/>
        <meta property="og:url" content="/pages/2015/10/12/create-blog/"/>
        <meta property="og:description" content="Shiting Xv, Guodong Zhang and I participated in the competition as a team and I was the leader of the team. My work mainly included data cleaning, data transform and ..."/>
        <meta property="article:published_time" content="2015-10-12" />
            <meta property="article:section" content="Bigdata Challenge" />
            <meta property="article:tag" content="Bigdata" />
            <meta property="article:tag" content="Challenge" />
            <meta property="article:tag" content="Data Mining" />
            <meta property="article:tag" content="Analytics" />
            <meta property="article:author" content="Pengyang Wang" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Pengyang Wang's Homepage            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/category/bigdata-challenge.html">Bigdata challenge</a>
                        </li>
                        <li >
                            <a href="/category/projects.html">Projects</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-12">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/pages/2015/10/12/create-blog/"
                       rel="bookmark"
                       title="Permalink to Clothes Matching Challenge on Taobao.com">
                        Clothes Matching Challenge on Taobao.com
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-10-12T11:15:00+08:00"> Mon 12 October 2015</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tag/bigdata.html">Bigdata</a>
        /
	<a href="/tag/challenge.html">Challenge</a>
        /
	<a href="/tag/data-mining.html">Data Mining</a>
        /
	<a href="/tag/analytics.html">Analytics</a>
    <span class="label label-default">Lang</span>
	<a href="/pages/2016/09/25/create-blog/">en</a>
	<a href="/pages/2014/04/12/create-blog/">en</a>
	<a href="/pages/2016/02/05/create-blog/">en</a>
	<a href="/pages/2015/12/28/create-blog/">en</a>

</footer><!-- /.post-info -->                    </div>
                </div>
                <blockquote>
<p>Shiting Xv, Guodong Zhang and I participated in the competition as a team and I was the leader of the team. My work mainly included data cleaning, data transform and model design. At the end, our result ranked at 145 of 2100. Here is the certificate awarded by Tianchi Bigdata Challenge Committee.  <a href="/pages/2015/10/12/create-blog/files/taobao_certificate.pdf"><strong>Cerfificate</strong></a>
<br>
<br></p>
</blockquote>
<h3>Task</h3>
<blockquote>
<p>participants are required to predict the collection of items for given items based on the given collocation data generated by collocational experts, text and image data of  Taobao  items. The data includes three parts, the basic information of the item data (text, image), user historical behavior data and Collocation set data.</p>
</blockquote>
<h3>Data Description</h3>
<blockquote>
<p>The data includes three parts, the basic information of the item data (text, image), user historical behavior data and Collocation set data. The details of description are below.</p>
</blockquote>
<p><center><strong>Collocation set data</strong></center>
<table class="table table-bordered table-striped table-condensed">
   <tr>
      <td>Column</td>
      <td>Type</td>
      <td>Description</td>
      <td>Comment</td>
   </tr>
   <tr>
      <td>coll_id</td>
      <td>bigint</td>
      <td>Collocation set ID</td>
      <td>1000</td>
   </tr>
   <tr>
      <td>item_list</td>
      <td>string</td>
      <td>Item list (delimited by semicolon, every semicolon refers to a Collocation set. Every collocation set includes several goods, delimited by comma)</td>
      <td>1002,1003,1004;439201;1569773,234303;19836</td>
   </tr>
</table></p>
<p><center><strong>Item information data</strong></center>
<table class="table table-bordered table-striped table-condensed">
   <tr>
      <td>Column</td>
      <td>Type</td>
      <td>Description</td>
      <td>Comment</td>
   </tr>
   <tr>
      <td>item_id</td>
      <td>bigint</td>
      <td>Item ID</td>
      <td>439201</td>
   </tr>
   <tr>
      <td>cat_id</td>
      <td>bigint</td>
      <td>The category ID of item</td>
      <td>16</td>
   </tr>
   <tr>
      <td>terms</td>
      <td>string</td>
      <td>The results of the item Title after segmentation. The order is disrupted</td>
      <td>5263,2541,2876263</td>
   </tr>
   <tr>
      <td>img_data</td>
      <td>string</td>
      <td>image of the item (note: in season1, there is no such column. The image is available for download. The file name is item_id.jpg)</td>
      <td></td>
   </tr>
</table></p>
<p><center><strong>Item information data</strong></center>
<table class="table table-bordered table-striped table-condensed">
   <tr>
      <td>Column</td>
      <td>Type</td>
      <td>Description</td>
      <td>Comment</td>
   </tr>
   <tr>
      <td>user_id</td>
      <td>bigint</td>
      <td>User ID</td>
      <td>62378843278</td>
   </tr>
   <tr>
      <td>item_id</td>
      <td>bigint</td>
      <td>Item ID</td>
      <td>439201</td>
   </tr>
   <tr>
      <td>create_at</td>
      <td>string</td>
      <td>Action date（buy）</td>
      <td>20140911</td>
   </tr>
</table></p>
<p><center><strong>List of items to be predicted</strong></center>
<table class="table table-bordered table-striped table-condensed">
   <tr>
      <td>Column</td>
      <td>Type</td>
      <td>Description</td>
      <td>Comment</td>
   </tr>
   <tr>
      <td>item_id</td>
      <td>bigint</td>
      <td>Item ID</td>
      <td>90832747</td>
   </tr>
</table></p>
<h3>Evaluation</h3>
<blockquote>
<p>The challenge aims at the players to have accurate results for given item list. The evaluation metric is Smoothed Mean Average Precision@200(MAP@200)
For each item, 
<div class="math">$$ ap_{i}@200 = \frac{\sum_{k=1}{200}\frac{1}{1-lnp(k)}\times \Delta()}{n} $$</div>
where n is the number of items. P(k) is the precision at cut-off k in the item list. When the k-th item is the answer set, $ \Delta(k) $ is 1, else 0. Then calculate the average value of all $ ap_{i}@200 $ in the test set:
<div class="math">$$ map@200 = \frac{\sum_{i}api_{i}@200}{I} $$</div>
where, I is the number of items to be predicted. The value of map@200 is between 0 and 1. 1 is the most ideal situation.</p>
</blockquote>
<h3>Our solution</h3>
<p>The whole structure of our model is listed below:
<center><img alt="taobao_match_compet" src="/image/taobao_match_compet.png" /></center></p>
<h4>1. TF-IDF</h4>
<p>Transform items which are to be matched and all other items provided into TF-IDF form, based on terms and categories.</p>
<h4>2. Similarities based on Locality-Sensitive Hashing</h4>
<p>Calculate similarities between items which are to be matched and all other items provided with Locality-Sensitive Hashing algorithm.
Since there are millions of items, it is very costly to calculate similarities directly, no matter on time and memories. So, we decided to do it more efficiently by LSH(Locality-Sensitive Hashing). Locality-sensitive hashing (LSH) reduces the dimensionality of high-dimensional data. LSH hashes input items so that similar items map to the same “buckets” with high probability (the number of buckets being much smaller than the universe of possible input items). LSH differs from conventional and cryptographic hash functions because it aims to maximize the probability of a “collision” for similar items. The details about the LSH algorithm can be found <a href="https://en.wikipedia.org/wiki/Locality-sensitive_hashing"><strong>HERE</strong></a>.</p>
<h4>3. Generate New Matches</h4>
<p>We ranked all the similar items based on similarities and found the topK items which have existed in the specialist fashion matches list. Then we gave the matches of these topK items to the items that were to be matched. Finally, after reranking the list by the similarities and ranks in the specialist fashion matches list, the new matches was generated.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Pengyang Wang
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>